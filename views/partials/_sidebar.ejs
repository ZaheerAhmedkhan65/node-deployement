<div class="col-lg-3 col-md-1 col-2 sidebar d-flex flex-column justify-content-between align-items-center align-items-lg-start py-3">
    <div>
        <a class="text-decoration-none d-none d-lg-block" href="/">
            <h3>Blog</h3>
          </a>
          <div class="links-container nav flex-column">
              <a class="text-decoration-none d-lg-none d-block" href="/">
                  <h3>Blog</h3>
              </a>
              <a href="#posts" class="nav-link text-center text-lg-start px-0">
                <i class="bi bi-file-earmark-text"></i>
                <span class="d-none d-lg-inline"> Posts</span>
              </a>

              <button type="button" class="nav-link text-center text-lg-start p-0 bg-transparent border-0" data-bs-toggle="modal" data-bs-target="#followersModal">
                <a  href="#followers" class="nav-link text-center text-lg-start px-0">
                  <i class="bi bi-people"></i>
                  <span class="d-none d-lg-inline"> Followers</span>
                </a>
              </button>
              <button type="button" class="nav-link text-center text-lg-start p-0 bg-transparent border-0" data-bs-toggle="modal" data-bs-target="#notificationsModal">
                <a href="#notification" class="nav-link text-center text-lg-start px-0">
                  <i class="bi bi-bell"></i>
                  <span class="d-none d-lg-inline"> Notifications</span>
                </a>
              </button>

              <a href="#settings" class="nav-link text-center text-lg-start px-0">
                <i class="bi bi-gear"></i>
                <span class="d-none d-lg-inline"> Settings</span>
              </a>

              <button type="button" class="btn btn-primary my-3 rounded-pill" data-bs-toggle="modal" data-bs-target="#newPostModal">
                Post
              </button>
          </div>
    </div>
    

    <div class="current-user-profile">
        <a href="/users/<%= user.userId %>/profile">
          <img src="<%= user.avatar || '/images/default-avatar.png' %>" alt="<%= user.name %>" class="rounded-circle" width="40" height="40" loading="lazy">
        </a>
        <div class="d-flex flex-column">
            <h3 class="d-none d-lg-inline m-0"><%= user.username %></h3>
            <p class="d-none d-lg-inline m-0"><%= user.email %></p>
        </div>
        <div class="actions d-none d-lg-inline">
            <div class="btn-group dropup">
                <button type="button" class="border-0 p-0 bg-transparent" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-three-dots-vertical"></i>
                </button>
                <ul class="dropdown-menu">
                  <a href="/auth/logout" class="dropdown-item">Logout</a>
                </ul>
              </div>
        </div>
    </div>
  </div>

  <div class="modal fade" id="newPostModal" tabindex="-1" aria-labelledby="newPostModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <h1 class="modal-title fs-5" id="newPostModalLabel">New Post</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form id="create-post-form" action="/posts/create" method="POST" class="card-body">
                      <div class="form-group mb-2">
<label for="title" class="form-label fw-semibold">Title</label>
                      <input type="text" name="title" id="title" placeholder="Write post title here..."
                          class="form-control" required>
                      </div>
                      <div class="form-group mb-2">
                        <label for="published_at" class="form-label fw-semibold">Publish Date</label>
                        <input type="date" name="published_at" id="published_at" class="form-control">
                      </div>
                      <input type="hidden" id="user_id" name="user_id" value="<%= userId %>">
                      <div class="form-group mb-2">
                        <label for="content" class="form-label fw-semibold">Message</label>
                        <textarea name="content" class="form-control" type="input" id="content" placeholder="Write your message here..." required></textarea>
                      </div>
                      <div class="modal-footer border-0">
                          <button type="button" class="btn btn-secondary btn-sm mt-2"
                              data-bs-dismiss="modal">Close</button>
                          <button id="create-post-btn" type="submit" class="btn btn-sm mt-2"
                              style="background-color: black; color: white;">Create</button>
                      </div>
                  </form>
          </div>
      </div>
  </div>
</div>



<%- include('_followers') %>
<%- include('_notifications') %>

<script src="/js/createPost.js"></script>
